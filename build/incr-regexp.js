var iRX=function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isHolder=e.isOptional=e.isMeta=e.convertMask=e.IREGEX=e.RxMatcher=e.contract=e.RXInputMask=e.RxParser=e.printExprS=e.printExpr=e.incrRegEx=e.advancedRxMatcher=e.rxGetActualStartState=e.rxCanReach=e.rxMatch=e.rxNextState=e.rxMatchArr=e.makeFSM=e.makeCharSet=e.stdRxMeta=e.copyNode=e.RX_ONE_OR_MORE=e.RX_ZERO_OR_MORE=e.RX_ZERO_OR_ONE=e.RX_OR=e.RX_CONS=e.RX_UNARY=e.RX_OP=e.FAILED=e.MORE=e.MAYBE=e.DONE=e.FALSE=e.DOT=e.ONE_OR_MORE=e.ZERO_OR_MORE=e.ZERO_OR_ONE=e.OR=e.RP=e.LP=e.BS=e.SKIP=e.OP=e.charset=e.anychar=e.zero_or_more=e.zero_or_one=e.or=e.dot=e.boundary=e.matchable=e.BOUNDARY=e.PERHAPS_MORE=e.TERM=e.MANY=void 0;var n=r(1),i=r(2),a=r(4),o=r(5),u=r(3),s=r(6),h=r(7);if(void 0===o.incrRegEx)throw new Error("incrRegEx not defined");if(void 0===s.RXInputMask)throw new Error("RXInputMask not defined");if(void 0===h.RxMatcher)throw new Error("RxMatcher not defined");e.MANY=a.MANY,e.TERM=a.TERM,e.PERHAPS_MORE=a.PERHAPS_MORE,e.BOUNDARY=a.BOUNDARY,e.matchable=a.matchable,e.boundary=a.boundary,e.dot=a.dot,e.or=a.or,e.zero_or_one=a.zero_or_one,e.zero_or_more=a.zero_or_more,e.anychar=a.anychar,e.charset=a.charset,e.OP=a.OP,e.SKIP=a.SKIP,e.BS=a.BS,e.LP=a.LP,e.RP=a.RP,e.OR=a.OR,e.ZERO_OR_ONE=a.ZERO_OR_ONE,e.ZERO_OR_MORE=a.ZERO_OR_MORE,e.ONE_OR_MORE=a.ONE_OR_MORE,e.DOT=a.DOT,e.FALSE=a.FALSE,e.DONE=a.DONE,e.MAYBE=a.MAYBE,e.MORE=a.MORE,e.FAILED=a.FAILED,e.RX_OP=a.RX_OP,e.RX_UNARY=a.RX_UNARY,e.RX_CONS=a.RX_CONS,e.RX_OR=a.RX_OR,e.RX_ZERO_OR_ONE=a.RX_ZERO_OR_ONE,e.RX_ZERO_OR_MORE=a.RX_ZERO_OR_MORE,e.RX_ONE_OR_MORE=a.RX_ONE_OR_MORE,e.copyNode=a.copyNode,e.stdRxMeta=a.stdRxMeta,e.makeCharSet=a.makeCharSet,e.makeFSM=a.makeFSM,e.rxMatchArr=a.rxMatchArr,e.rxNextState=a.rxNextState,e.rxMatch=a.rxMatch,e.rxCanReach=a.rxCanReach,e.rxGetActualStartState=a.rxGetActualStartState,e.advancedRxMatcher=a.advancedRxMatcher,e.incrRegEx=o.incrRegEx,e.printExpr=u.printExpr,e.printExprS=u.printExprS,e.RxParser=i.RxParser,e.RXInputMask=s.RXInputMask,e.contract=n.contract,e.RxMatcher=h.RxMatcher,e.matchable=a.matchable,e.dot=a.dot,e.or=a.or,e.zero_or_one=a.zero_or_one,e.zero_or_more=a.zero_or_more,e.IREGEX=o.IREGEX,e.convertMask=o.convertMask,e.isMeta=o.isMeta,e.isOptional=o.isOptional,e.isHolder=o.isHolder},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t){if(!t)return t;for(var e=1,r=arguments.length;e<r;e++){var n=arguments[e];if("function"==typeof n||"object"===("undefined"==typeof n?"undefined":Y(n))&&null!==n)for(var i,a=-1,o=Object.keys(n),u=o?o.length:0;++a<u;)i=o[a],t[i]=n[i]}return t}function i(t){return n({},t)}function o(t,e){return!!t[e]}function u(t,e){var r,i=this;if("function"!=typeof i)throw new Error("Parent must be a constructor function");return r=o(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n(r,i,e),r.prototype=Object.create(i.prototype),t&&n(r.prototype,t),r.prototype.constructor=r,r}function s(t){return t}function h(t){var e=[];return e.concat.apply(e,t)}function c(t,e){if(t===e)return!0;if(!t||!e)return!1;if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]instanceof Array&&t[r]instanceof Array){if(!c(t[r],e[r]))return!1}else if(e[r]!==t[r])return!1;return!0}function l(t){for(var e={},r=[],n=0;n<t.length;n++)t[n]in e||(r.push(t[n]),e[t[n]]=!0);return r}function f(t,e){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function p(t,e,r){if(!t||!e)return!1;var n=t.length,i=e.length;if(r+i>n)return!1;for(var a=r,o=0;o<i;a++,o++)if(e[o]instanceof Array&&t[a]instanceof Array){if(!p(t[a],e[o],0))return!1}else if(t[a]!==e[o])return!1;return!0}function v(t,e){for(var r=0;r<e.length;r++)t.push(e[r]);return t}function d(t){for(var e=[],r=0,n=t.length;r<=n;r++)e.push(t.charAt(n-r));return e.join("")}function _(t,e){for(var r=0;r<t.length&&r<e.length;r++)if(t.charAt(r)!==e.charAt(r))return t.substring(0,r);return t.length<e.length?t:e}function O(t,e){return d(_(d(t),d(e)))}function y(t,e){return t.length<e?t:t.substr(0,e)}function E(t,e){return t.length<e?t:t.substr(t.length-e,e)}function R(t,e){function r(t,e,r){for(var n=t.length-r,i=0;i<r;n++,i++)if(t.charAt(n)!==e.charAt(i))return!1;return!0}for(var n=Math.min(t.length,e.length),i=n;i>0;i--)if(r(t,e,i))return t.substr(0,t.length-i)+e;return t+e}function m(){function t(t){return t.split("").map(function(t){return"\\"+t}).join("|")}function e(t){return t.split("").join("|")}var r="\\[(?:\\\\u|\\\\\\]|\\\\\\\\|(\\\\)?\\[|[^\\]\\[\\\\])*?\\]",n=t(".|+*?()^$"),i="\\(\\?:|\\?\\?|\\*\\?|\\+\\?",a=e("dDsSbBwW"),o=t("[]{}\\"),u=[n,a,o].join("|"),s="\\\\(?:"+u+")",h="\\{(?:\\d+,\\d+|\\d+|\\d+,|,\\d+)\\}",c="[^.+?{}\\]\\[|()\\\\]";return[r,h,s,i,n,c].map(function(t){return"(?:"+t+")"}).join("|")}function g(){return new RegExp(m(),"g")}function k(t){var e=t.match(/\{(\d+)(,(\d*))?\}/),r=Number(e[1]);return{min:Number(e[1]),max:e[3]?Number(e[3]):e[2]?void 0:r}}function x(t){return(1&+t)>0}function A(t,e){return void 0===t?e:(t.push(e),t)}function N(t,e,r){return new B(t,e)}function b(t){if(!t)throw Error("n_head of empty list");return t.head}function M(t){if(!t)throw Error("n_tail of empty list");return t.tail}function S(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return t?S(M(t),N(b(t),e)):e}function I(t){return S(t.reduce(function(t,e){return N(e,t)},null))}function D(t){return I(t.split(""))}function w(t){return X(function(t,e){return t.push(e),t},t,[])}function P(t){return w(t).join("")}function L(t,e){return t&&t?N(b(t),L(M(t),e)):e}function T(t,e,r){return r=r||0,e?N(t(b(e),r,e),T(t,M(e),r+1)):e}function C(t,e,r){return e?(r=r||0,t(b(e),r,e)?N(b(e),C(t,M(e),r+1)):C(t,M(e),r+1)):e}function F(t,e,r){return r=r||0,e?t(b(e),r,e)?e:F(t,M(e),r+1):null}function X(t,e,r){return e?X(t,M(e),t(r,b(e))):r}function Z(t,e,r){return 2===arguments.length&&(r=e,e=t,t=function(t,e){return t===e}),C(function(e){return!F(function(r){return t(r,e)},r)},e)}Object.defineProperty(e,"__esModule",{value:!0});var H=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.assign=n,e.copy=i,e.extend=u,e.ID=s,e.flatten=h,e.array_eq=c,e.arr_uniq=l,e.arr_find=f,e.array_match=p,e.array_append=v,e.sreverse=d,e.sprefix=_,e.rprefix=O,e.shead=y,e.stail=E,e.sRightMerge=R,e.parseMulti=k,e.odd=x,e.arr_push=A,e.n_cons=N,e.n_head=b,e.n_tail=M,e.n_reverse=S,e.arrayToList=I,e.stringToList=D,e.listToArray=w,e.listToString=P,e.n_concat=L,e.n_map=T,e.n_filter=C,e.n_find=F,e.n_reduce=X,e.n_removeAll=Z;e.contract=function(){var t=Function.prototype.call,e=(t.bind([].slice),t.bind({}.toString)),r=function(t){return"undefined"==typeof t},n=function(t){var r="[object "+t+"]";return function(t){return e(t)==r}},i=function(t){var r="[object "+t+"]";return function(n){if(e(n)!==r)throw new TypeError("Expected "+t);return n}},a=n("Array"),o=i("Array"),u=function(t){return function(e){return("undefined"==typeof e?"undefined":Y(e))==t}},s=function(t){return function(e){if(("undefined"==typeof e?"undefined":Y(e))!==t)throw new TypeError("Expected a"+("object"===t?"n":"")+t+".");return e}},h=s("function"),c=u("function"),l=function(t){return function(e){if(!(e instanceof t))throw new TypeError("Expected an instance of "+t);return e}},f=function(t){if((0|t)!==t)throw new TypeError("Expected a 32-bit natural.");return t},p=function(t){if((0|t)!==t||t<0)throw new TypeError("Expected a 32-bit natural.");return t};return{int32:f,nat32:p,func:h,isFunc:c,typeOf:s,isTypeOf:u,arr:o,isArr:a,classOf:i,isClassOf:n,instanceOf:l,isUndef:r}}();"function"!=typeof Object.assign&&!function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(void 0!==n&&null!==n)for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e}}();var B=(e.TOKINIZATION_RX=g(),e.StackDedup=function(){function t(e){r(this,t),this.length=0,this.data=[],e&&this.push(e),this.maxLen=0}return H(t,[{key:"forEach",value:function(t){for(var e=this.data,r=0;r<this.length;r++)t(e[r],r,this);return this}},{key:"reduce",value:function(t,e){for(var r=this.data,n=0;n<this.length;n++)e=t(e,r[n],n,this);return e}},{key:"filter",value:function(e){var r=new t,n=this.data;r.maxLen=this.maxLen;for(var i=0;i<this.length;i++)e(n[i],i,this)&&r.push(n[i]);return r}},{key:"map",value:function(e){var r=new t,n=this.data;r.maxLen=this.maxLen;for(var i=0;i<this.length;i++)r.push(e(n[i],i,this));return r}},{key:"toArray",value:function(){return this.reduce(A,[])}},{key:"reset",value:function(){return this.length=0,this.maxLen=0,this}},{key:"contains",value:function(t){for(var e=this.data,r=this.length,n=0;n<r;n++)if(e[n]===t)return this}},{key:"push",value:function(t){return void 0===t?this:this.contains(t)?this:(this.data[this.length++]=t,this.length>this.maxLen&&(this.maxLen=this.length),this)}},{key:"pop",value:function(){return this.length<=0?this:(length--,this)}},{key:"top",value:function(){if(!(this.length<=0))return data[this.length-1]}},{key:"addAll",value:function(t){var e=this;return t?(t.forEach(function(t){return e.push(t)}),this):this}},{key:"clone",value:function(){return this.map(function(t){return t})}}]),t}(),function(){function t(e,n){r(this,t),this.head=e,this.tail=n}return H(t,[{key:"equals",value:function(t){return null!==t&&(this.head===t.head&&this.tail===t.tail)}},{key:"addAll",value:function(t){return t?S(a).reduce(function(t,e){return N(e,t)},this):this}},{key:"map",value:function(t){return T(t,this)}},{key:"reduce",value:function(t,e){return X(t,this,e)}},{key:"reverse",value:function(t){return S(this,t)}}]),t}());Array.prototype.find||(Array.prototype.find=function(t){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,r=Object(this),n=r.length>>>0,i=arguments[1],a=0;a<n;a++)if(e=r[a],t.call(i,e,a,r))return e})},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return t&&"U"==t.type&&"MULTIRANGE"==t.op}function a(t){return function(e){return e===O.DONE||void 0!==e&&e!==t?y:[!0,t]}}function o(t){return!/\w|\d/.test(t||".")}function u(t,e){var r=!t||o(t),n=o(e);return r&&!n||!r&&n?E:y}function s(){return!1}function h(t){return"<SKIP>"==t?O.SKIP:"("==t||"(?:"==t?O.LP:")"==t?O.RP:"."==t?(0,O.ANYCH)():"[\\b]"==t?O.BS:"^"==t||"$"==t?{type:"N",val:t,multi:O.BOUNDARY,op:"BOUNDARY",match:s}:"\\b"==t||"\\B"==t?{type:"N",val:t,multi:O.BOUNDARY,op:"BOUNDARY",match:u}:/^\[.*\]$/.test(t)?(0,O.makeCharSet)(t):"|"==t?O.OR:/^[?+*]\??$/.test(t)?R[t.substring(0,1)]:/^\{[^}]*\}$/.test(t)?{type:"U",val:t,op:"MULTIRANGE",fn:(0,d.parseMulti)(t)}:/^\\[dDsSwW]$/.test(t)?(0,O.stdRxMeta)(t):/^\\[trn]$/.test(t)?{type:"N",val:m[t.substring(1,2)],multi:O.TERM,op:"NON-PRINTING",match:__match("\\"+t.substring(1))}:/^\\[.?+*{}()$^\\:|\][]$/.test(t)?{type:"N",val:t.substring(1,2),multi:O.TERM,op:"SINGLE",match:a(t.substring(1))}:{type:"N",val:t,multi:O.TERM,op:"SINGLE",match:a(t)}}function c(t,e){return!(t<e)&&(t>e||(0,d.odd)(t))}function l(t,e){for(var r=0;r<g.length;r++)if((0,d.array_match)(t,g[r].match,e))return g[r]}function f(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=l(t,r);i?((0,d.array_append)(e,i.put),r+=i.match.length-1):e.push(t[r])}return e}function p(t){t&&("|"==t[t.length-1]&&(t=t.concat("<SKIP>")),"|"==t[0]&&(t=["<SKIP>"].concat(t)));for(var e=f(t);!(0,d.array_eq)(t,e);)t=e,e=f(t);return t}Object.defineProperty(e,"__esModule",{value:!0}),e.RxParser=void 0;var v=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),d=r(1),_=r(3),O=r(4);if(!d.array_append)throw new Error("array_append is undefined");var y=[!1,void 0],E=[!0,void 0],R={"*":O.ZERO_OR_MORE,"+":O.ONE_OR_MORE,"?":O.ZERO_OR_ONE},m={t:"\t",n:"\n",r:"\r"},g=[{match:["(","|",")"],put:["(",")"]},{match:["<SKIP>","|","<SKIP>"],put:["<SKIP>"]},{match:["<SKIP>","<SKIP>"],put:["<SKIP>"]},{match:["(","<SKIP>",")"],put:["<SKIP>"]},{match:["<SKIP>","*"],put:["<SKIP>"]},{match:["<SKIP>","+"],put:["<SKIP>"]},{match:["(","|"],put:["(","<SKIP>","|"]},{match:["|",")"],put:["|","<SKIP>",")"]},{match:["|","|"],put:["|","<SKIP>","|"]},{match:["(",")"],put:["<SKIP>"]}];e.RxParser=function(){function t(){n(this,t),this.operand=[],this.operator=[],this.basePrec=0,this.wasOp=!0,this.lastop=void 0}return v(t,[{key:"toString",value:function(){return"{ operand: "+this.operand.map(_.printExpr)+" operator: "+this.operator.map(function(t){return t.toString()})+" prec: "+this.BasePrec+" wasOp: "+this.wasOp+"}"}},{key:"opState",value:function(t,e,r){var n=function(t){return t?"OPERATOR":"OPERAND"};if(this.lastop=r,this.wasOp!=t)throw new Error("RegExp parsing expected: "+n(t)+" but was: "+n(this.wasOp));this.wasOp=e}},{key:"addToken",value:function(t){if(!t)return this.finishUp();var e=h(t);switch("N"!=e.type&&"L"!=e.type||this.wasOp||(this.pushOp(O.DOT,this.basePrec+4),this.opState(!1,!0)),e.type){case"L":this.opState(!0,!0,O.LP),this.basePrec+=10;break;case"R":if(this.opState(!1,!1,O.RP),this.basePrec-=10,this.basePrec<0)throw Error("Syntax error "+this.basePrec);break;case"":case"B":this.pushOp(e,this.basePrec+2),this.opState(!1,!0,e);break;case"U":this.pushOp(e,this.basePrec+7),this.opState(!1,!1,e);break;case"N":this.operand.push(e),this.opState(!0,!1,e);break;default:throw Error("Syntax error - in regexp")}return this}},{key:"pushOp",value:function(t,e){for(var r=this.topV()||{prec:-100};r&&c(r.prec,e);){var n,a;a=this.popOper(),r.op.type&&"B"!==r.op.type?i(r.op)?this.operand.push(this.applyMulti(r.op,a)):r.op===O.ONE_OR_MORE?this.oneOrMore(a):this.unaryOp(r.op,a):(n=this.popOper(),this.operand.push((0,O.RX_OP)(r.op,n,a))),this.operator.pop(),r=this.topV()}e>=0&&this.operator.push({op:t,prec:e})}},{key:"finishUp",value:function(){return void 0===this.wasOp?this:(this.wasOp?this.pushOp(void 0,-1):(this.pushOp(O.DOT,0),this.operand.push(O.DONE),this.pushOp(void 0,-1)),this.wasOp=void 0,this)}},{key:"val",value:function(){return 0===this.operand.length?void 0:this.operand[this.operand.length-1]}},{key:"topV",value:function(){return 0===this.operator.length?void 0:this.operator[this.operator.length-1]}},{key:"popOper",value:function(){return this.operand.pop()}},{key:"applyMulti",value:function(t,e){var r,n=t.fn.min,i=t.fn.max;if((0,O.boundary)(e))throw new SyntaxError("repetition of boundary element: '"+e.val+"'' has no meaning");var a=function(t,e,n){if(0===n)return t;for(r=0;r<n;r++)e=(0,O.copyNode)(e),t=t?(0,O.RX_CONS)(t,e):e;return t||e};return 0===n?void 0===i?(0,O.RX_ZERO_OR_MORE)(e):a(void 0,(0,O.RX_ZERO_OR_ONE)(e),i):void 0===i?a(a(void 0,e,n),(0,O.RX_ZERO_OR_MORE)(e),1):a(a(e,e,n-1),(0,O.RX_ZERO_OR_ONE)((0,O.copyNode)(e)),i-n)}},{key:"oneOrMore",value:function(t){if((0,O.boundary)(t))throw new SyntaxError("repetition of boundary element: "+t.val+" has no meaning");this.operand.push((0,O.RX_ONE_OR_MORE)(t))}},{key:"unaryOp",value:function(t,e){if((0,O.boundary)(e))throw new SyntaxError("modifier ("+t.val+") of boundary element: "+e.val+" has no meaning");this.operand.push((0,O.RX_UNARY)(t,e))}}],[{key:"parse",value:function(e){"string"!=typeof e&&(e=e.toString().replace(/\\\//g,"/").replace(/^\/|\/$/g,""));var r=p(e.match(d.TOKINIZATION_RX));r=r||[];var n=r.reduce(function(t,e){return t.addToken(e)},new t);return n.val()&&n.pushOp(O.DOT,0),n.operand.push(O.DONE),n.pushOp(void 0,-1),(0,O.makeFSM)(n.val())}}]),t}()},function(t,e,r){"use strict";function n(t,e){return e&&t&&t.oper?"("+n(t)+")":t&&t.oper?"B"==t.oper.type?"."==t.oper.op?"("+n(t.left)+"."+n(t.right)+")":"("+n(t.left)+"|"+n(t.right)+")":"U"==t.oper.type?"("+n(t.left,!1)+t.oper.val+")":void 0:t===u.DONE?"<DONE>":t.val}function i(t,e){return t&&t.oper?"B"==t.oper.type?"."==t.oper.op?e>2?"("+i(t.left,2)+i(t.right,2)+")":i(t.left,2)+i(t.right,2):e>1?"("+i(t.left,1)+"|"+i(t.right,1)+")":i(t.left,e+1)+"|"+i(t.right,e):"U"==t.oper.type?e>3?"("+i(t.left,1)+")"+t.oper.val:i(t.left,3)+t.oper.val:void 0:t===u.DONE?"<DONE>":t.val||"~~~"}function a(t,e){return e&&t&&t.oper?"("+a(t)+")":t&&t.oper?"B"==t.oper.type?"."==t.oper.op?"("+a(t.left)+"."+a(t.right)+")":"("+a(t.left)+"|"+a(t.right)+")":"U"==t.oper.type?"("+a(t.left,!1)+t.oper.val+")":void 0:t===u.DONE?"<DONE>":"'"+(t.val||"~~~")+"'"}function o(t,e){return e&&t&&t.oper?"("+n(t)+")":t&&t.oper?"B"==t.oper.type?"."==t.oper.op?t.nextNode?"("+o(t.left)+"."+o(t.nextNode)+")":o(t.left):"("+o(t.left)+"|"+o(t.right)+")":"U"==t.oper.type?t.nextNode?"(("+n(t.left,!1)+t.oper.val+")."+o(t.nextNode)+")":"("+n(t.left,!1)+t.oper.val+")":void 0:t===u.DONE?"<DONE>":t&&t.nextNode?"("+(t.val||"~~~")+"."+o(t.nextNode)+")":t?t.val:""}Object.defineProperty(e,"__esModule",{value:!0}),e.printExpr=n,e.printExprS=i,e.printExprQ=a,e.printExprN=o;var u=r(4)},function(t,e,r){"use strict";function n(){}function i(){}function a(){}function o(){}function u(t,e){var r=function(){return e||t.val};return t.toString=r,t}function s(t){return t!==et?j:z}function h(t){return function(e){return e===et||void 0!==e&&!e.match(t)?z:j}}function c(t){return{type:"N",val:t,multi:n,op:"SPECIAL-CHARSET",match:at[t]}}function l(t){return{type:"N",val:t,multi:n,op:"CHARSET",match:h(new RegExp(t))}}function f(t){return t&&!t.oper&&t.multi!==o&&t.match}function p(t){return t&&!t.oper&&t.multi===o&&t.match}function v(t){return t&&t.oper===Q}function d(t){return t&&t.oper===$}function _(t){return t&&t.oper===W}function O(t){return t&&t.oper===q}function y(t){return t&&"N"===t.type&&"ANY"===t.op}function E(t){return t&&"N"===t.type&&("CHARSET"===t.op||"SPECIAL-CHARSET"===t.op)}function R(t,e,r){return t===Q?g(e,r):t===$?k(e,r):r?{oper:t,left:e,right:r}:e}function m(t,e){return{oper:t,left:e}}function g(t,e){return t===U?e:e===U?t:e?{oper:Q,left:t,right:e}:t}function k(t,e){return e?{oper:$,left:t,right:e}:t}function x(t){return{oper:q,left:t}}function A(t){return{oper:W,left:t}}function N(t){return g(t,x(b(t)))}function b(t){if(void 0!==t){if(t===et)return et;if("N"===t.type&&void 0===t.oper)return{type:"N",val:t.val,multi:t.multi,op:t.op,match:t.match};if(t.left&&(v(t)||_(t)||O(t)||d(t)))return t.right?{oper:t.oper,left:b(t.left),right:b(t.right)}:{oper:t.oper,left:b(t.left)};throw new Error("Copy of an invalid node "+t)}}function M(t,e){if((f(t)||p(t))&&e)return t.nextNode=e,t;if(v(t)){var r=e?M(t.right,e):t.right;return M(t.left,r),t}if(d(t)&&e)return t.left===U?t.left=e:M(t.left,e),t.right===U?t.right=e:M(t.right,e),t;if(_(t)&&e)return M(t.left,e),t.nextNode=e,t;if(O(t)&&e){var n=t;return M(t.left,n),t.nextNode=e,t}return t}function S(t){if(t&&t!==et){if(v(t))return S(t.left);if(f(t)){var e=f(t)(void 0);return e[1]}if(d(t)){var r=S(t.left),n=S(t.right);return r===n?r:void 0}_(t)||O(t)||p(t)}}function I(t){var e=t&&t.length>0?S(t.data[0]):void 0;if(void 0!==e)return t.reduce(function(t,e){return t===S(e)?t:void 0},e)}function D(t,e,r){var n=arguments.length<=3||void 0===arguments[3]?new B.StackDedup:arguments[3];if(t===et)return e===et?(n.push(et),et):it;if(v(t))return D(t.left,e,r,n);if(d(t)){var i=D(t.left,e,r,n),a=D(t.right,e,r,n);return w(i,a)}if(_(t)||O(t)){var o=p(t.left)?et:D(t.left,e,r,n),u=D(t.nextNode,e,r,n);return w(o,u)}if(f(t)){var s=t.match(e);return s[0]&&n.push(t),s[0]?t.nextNode===et?et:rt:it}if(p(t)){if(e===et)return D(t.nextNode,e,r,n);var h=t.match(r,e);return h[0]||void 0===e?D(t.nextNode,e,r,n):it}return it}function w(t,e){return t===it?e:t===nt?nt:t===rt?e===et||e===nt?nt:rt:e===rt||e===nt?nt:et}function P(t,e,r,n){n=void 0===n||n!==r?new B.StackDedup:n;var i=r.reduce(function(r,i){return w(D(i,t,e,n),r)},it);if(i!==it&&0!==n.length)return n}function L(t){for(var e=t.length,r=new B.StackDedup,n=0;n<e;n++){var i=t.data[n];r.push(i===et?et:i.nextNode)}return r}function T(t,e,r){if(t!==r&&t!==et&&void 0!==t){if(v(t))return T(t.left,e,r);if(d(t))return T(t.left,e,r)||T(t.right,e,r);if(_(t)||O(t))return T(t.left,e,t)||T(t.nextNode,e,r);if(p(t))return T(t.nextNode,e,r);if(f(t)){if(e.contains(t))return t}else;}}function C(t){if(void 0===t||t.length<2)return t;for(var e=t.map(function(t){var e=Y(t,2),r=Y(e[0],2),n=r[0],i=r[1],a=e[1];return[[n,i],a]}),r=function(t){var r=Y(e[t],2),n=Y(r[0],2),i=n[0],a=n[1],o=r[1],u=Y(e[t+1],2),s=Y(u[0],2),h=s[0],c=(s[1],u[1],i.filter(function(t){var e=T(t.nextNode,h);return e})),l=I(c)||o;e[t]=[[c,a],l]},n=e.length-2;n>=0;n--)r(n);return e}function F(t,e){var r=H(t,e),n=Y(r,4),i=n[0],a=(n[1],n[2],n[3]);if(i){var o=C(a);return o.reduce(function(t,e){var r=Y(e,2),n=(r[0],r[1]);return t+(n||ut)},"")}}function X(t,e){return t.map(function(t){return T(t,e)}).filter(function(t){return void 0!==t})}function Z(t,e,r){if(void 0!==r){var n=L(r),i=P(t===ut?void 0:t,e,n);return void 0!==i?[i,n]:void 0}}function H(t,e){var r={};return r.nextNode=t,e.split("").reduce(function(t,e){var r=Y(t,4),n=r[0],i=r[1],a=r[2],o=r[3],u=void 0;return n&&(u=Z(e,i,a)),void 0!==u?(o.push([u,e]),[!0,e,u[0],o]):[!1,i,a,o]},[!0,void 0,new B.StackDedup(r),[]])}Object.defineProperty(e,"__esModule",{value:!0}),e.RXTREE=e.HOLDER_ZERO_OR_ONE=e.HOLDER_ANY=e.HOLDER_ZERO_OR_MORE=e.FAILED=e.MAYBE=e.MORE=e.DONE=e.ANYCH=e.FALSE=e.DOT=e.ONE_OR_MORE=e.ZERO_OR_MORE=e.ZERO_OR_ONE=e.OR=e.RP=e.LP=e.BS=e.SKIP=void 0;var Y=function(){function t(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(s){i=!0,a=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(i)throw a}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.MANY=n,e.TERM=i,e.PERHAPS_MORE=a,e.BOUNDARY=o,e.OP=u,e.stdRxMeta=c,e.makeCharSet=l,e.matchable=f,e.boundary=p,e.dot=v,e.or=d,e.zero_or_one=_,e.zero_or_more=O,e.anychar=y,e.charset=E,e.RX_OP=R,e.RX_UNARY=m,e.RX_CONS=g,e.RX_OR=k,e.RX_ZERO_OR_MORE=x,e.RX_ZERO_OR_ONE=A,e.RX_ONE_OR_MORE=N,e.copyNode=b,e.makeFSM=M,e.getArrayFixedAt=I,e.rxMatch=D,e.rxMatchArr=P,e.rxNextState=L,e.computeReachableList=C,e.rxContentsToMask=F,e.rxGetActualStartState=X,e.rxStepArr=Z,e.advancedRxMatcher=H;var B=r(1),j=[!0,void 0],z=[!1,void 0],U=e.SKIP=u({type:"N",val:"<SKIP>",multi:i,op:"SKIP",match:s}),K=e.BS=u({type:"N",val:"\b",multi:i,op:"SINGLE",match:h(/[\b]/)}),V=e.LP=u({type:"L",val:")"}),G=e.RP=u({type:"R",val:")"}),$=e.OR=u({type:"B",val:"|",op:"OR"}),W=e.ZERO_OR_ONE=u({type:"U",val:"?",op:"MULTI"}),q=e.ZERO_OR_MORE=u({type:"U",val:"*",op:"MULTI"}),J=e.ONE_OR_MORE=u({type:"U",val:"+",op:"MULTI"}),Q=e.DOT=u({type:"B",val:".",op:"."}),tt=e.FALSE=function(){return!1},et=(e.ANYCH=function(){return u({type:"N",val:"(.)",multi:n,op:"ANY",match:s})},e.DONE=u({type:"N",val:"DONE",multi:o,op:"DONE",match:tt})),rt=e.MORE=u({type:"N",val:"MORE",multi:o,op:"MORE",match:tt}),nt=e.MAYBE=u({type:"N",val:"MAYBE",multi:o,op:"MAYBE",match:tt}),it=e.FAILED=u({type:"N",val:"FAILED",multi:o,op:"FAILED",match:tt}),at={"\\d":h(/\d/),"\\D":h(/\D/),"\\s":h(/\s/),"\\S":h(/\S/),"\\w":h(/\w/),"\\W":h(/\W/)},ot=e.HOLDER_ZERO_OR_MORE="⋯",ut=e.HOLDER_ANY="＿",st=e.HOLDER_ZERO_OR_ONE="◑";[["matchable",f],["boundary",p],["dot",v],["or",d],["zero_or_one",_],["zero_or_more,",O],["MORE,",rt],["MAYBE,",nt],["makeFS",M],["DONE,",et],["FAILED,",it]].map(function(t){if(void 0===t[1])throw new Error(t[0]+" not defined")});e.RXTREE={MANY:n,TERM:i,PERHAPS_MORE:a,BOUNDARY:o,matchable:f,boundary:p,dot:v,or:d,zero_or_one:_,zero_or_more:O,anychar:y,charset:E,OP:u,SKIP:U,BS:K,LP:V,RP:G,OR:$,ZERO_OR_ONE:W,ZERO_OR_MORE:q,ONE_OR_MORE:J,DOT:Q,FALSE:tt,DONE:et,MAYBE:nt,MORE:rt,FAILED:it,RX_OP:R,RX_UNARY:m,RX_CONS:g,RX_OR:k,RX_ZERO_OR_ONE:A,RX_ZERO_OR_MORE:x,RX_ONE_OR_MORE:N,copyNode:b,stdRxMeta:c,makeCharSet:l,makeFSM:M,getArrayFixedAt:I,rxMatchArr:P,rxNextState:L,rxMatch:D,rxStepArr:Z,rxCanReach:T,rxGetActualStartState:X,advancedRxMatcher:H,HOLDER_ZERO_OR_MORE:ot,HOLDER_ANY:ut,HOLDER_ZERO_OR_ONE:st}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){return new S(t,e)}function o(t){return t.split("").map(function(t){return"*"===t?g.HOLDER_ZERO_OR_MORE:"?"===t?g.HOLDER_ZERO_OR_ONE:"_"===t?g.HOLDER_ANY:t}).join("")}function u(t){return t===g.HOLDER_ANY||s(t)}function s(t){return t===g.HOLDER_ZERO_OR_ONE||t===g.HOLDER_ZERO_OR_MORE}function h(t){return t===g.HOLDER_ANY}function c(t){for(var e=void 0,r=[],n=0;n<t.length;n++){var i=t.charAt(n);s(i)&&e===i||(e=i,r.push(i))}return r.join("")}function l(t,e){for(var r=0;r<t.length;r++)if(!e(t.charAt(r)))return t.substring(r+1,t.length);return t}function f(t,e){for(var r=(t.length<e.length?t.length:e.length,l((0,m.rprefix)(t,e),s)),n="",i=1,a=2,o=function(t){var e=0;return function(r){switch(r){case i:return e<t.length?t.charAt(e):void 0;case a:e++;break;default:return e<t.length}}},u=function(t,e){return t==e||s(t)&&s(e)},h=function(t,e){return t===g.HOLDER_ZERO_OR_MORE?t:e},c=o(t),f=o(e);c()&&f();){var p=c(i),v=f(i),d=s(p)||s(v);u(p,v)?(n+=h(p,v),c(a),f(a)):d?s(p)?(n+=p,c(a)):(n+=v,f(a)):(n+=g.HOLDER_ANY,c(a),f(a))}return(0,m.sRightMerge)(n,r)}function p(t){var e=t.charCodeAt(0);return e>=97&&e<=122}function v(t){return void 0!==t&&t.filter(function(t){return t===g.DONE}).length===t.length}function d(t,e,r,n,i){function a(u,s,h){if(!u)return t(s);if(h&&u===(0,m.n_head)(h))return a(u.nextNode,o(u,s),(0,m.n_tail)(h));if(u===g.DONE)return t(s);if((0,g.dot)(u))return a(u.left,s,h);if((0,g.or)(u)){var c=a(u.left,s,h),l=a(u.right,s,h);return r(c,l)}if((0,g.zero_or_one)(u))return n?n(u,s,a,h):a(u.nextNode,e(s,g.HOLDER_ZERO_OR_ONE),h);if((0,g.zero_or_more)(u))return n?n(u,s,a,h):a(u.nextNode,e(s,g.HOLDER_ZERO_OR_MORE),h);if((0,g.matchable)(u)){var f=(0,g.matchable)(u)(void 0),p=f[1]||(i?i(u,g.HOLDER_ANY):g.HOLDER_ANY);return a(u.nextNode,e(s,p),h)}return(0,g.boundary)(u)?a(u.nextNode,s,h):t(s)}var o=function(t,r){return(0,g.zero_or_more)(t)?e(r,g.HOLDER_ZERO_OR_MORE):r};return a}function _(t,e,r){function n(n,i){return n.reduce(function(r,n){return e(r,t(n,i))},r())}return n}function O(t,e){if(!t)return e;switch(t.val){case"[0-9]":case"\\d":return"9̲";case"[A-Za-z]":case"[a-zA-Z]":case"[a-z]":return"a̲";case"[A-Z]":return"A̲";case"[0-9A-Za-z]":case"[A-Z0-9a-z]":case"[A-Za-z0-9]":case"[0-9a-zA-Z]":case"[a-z0-9A-Z]":case"[a-zA-Z0-9]":return"z̲";default:return e}}function y(t,e){return t===-1||e===-1?-1:t+e}function E(t){if(!t)return 0;if(t===g.DONE)return 0;if((0,g.dot)(t))return y(E(t.left),E(t.right));if((0,g.or)(t)){var e=E(t.left);return e>=0&&e===E(t.right)?e:-1}if((0,g.zero_or_one)(t)||(0,g.zero_or_more)(t))return-1;if((0,g.matchable)(t)){var r=(0,g.matchable)(t)(void 0);return r[1]}return(0,g.boundary)(t)?E(t.left):0}Object.defineProperty(e,"__esModule",{value:!0}),e.IREGEX=e.getArrayMask=void 0;var R=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();e.incrRegEx=a,e.convertMask=o,e.isMeta=u,e.isOptional=s,e.isHolder=h,e.__isDoneN=v,e.makeRxInfo=d;var m=r(1),g=r(4),k=n(g),x=r(2);r(3);console.log(k["default"]),[["matchable",g.matchable],["boundary",g.boundary],["dot",g.dot],["or",g.or],["zero_or_one",g.zero_or_one],["zero_or_more,",g.zero_or_more],["MORE,",g.MORE],["MAYBE,",g.MAYBE],["makeFS",g.makeFSM],["DONE,",g.DONE],["FAILED,",g.FAILED]].map(function(t){if(void 0===t[1])throw new Error(t[0]+" not defined")});var A=function(t,e){var r=function(t){return void 0===t?[]:[t]},n=function(t,e){return t+e},i=function(t,e){return(0,m.flatten)([t,e])},a=function(t,e){return(0,m.flatten)((0,m.arr_push)(t,e))},o=function(t,e,r,n){if(t.left){var a=r(t.nextNode,e,n),o=r(t.left,e,(0,g.zero_or_more)(t)?(0,m.n_cons)(t,n):n);return i(a,o)}},u=e?o:void 0;return _(d(r,n,i,u,t),a,r)},N=A(O,!0),b=A(O,!1),M=e.getArrayMask=function(){var t=function(t){return t},e=function(t,e){return t+e},r=function(t,e){return f(t,e)},n=function(t,e){return f(t||e,e)},i=_(d(t,e,r),n,t);return function(t){return c(i(t,""))}}(),S=e.IREGEX=function(){function t(e,r){i(this,t);var n=30;e||r?(!r&&e&&(r=x.RxParser.parse(e)),this.str=e,this.base=r,this.tracker=[],this.current=new m.StackDedup(r),this.one=this.current,this.two=new m.StackDedup,this.lastCh=void 0,this.maxLen=0,this.mask=void 0,this._len=30):(this.str="",this.base=void 0,this.tracker=void 0,this.current=void 0,this.one=this.current,this.two=void 0,this.lastCh=void 0,this.maxLen=0,this._mask=void 0,n=E(this.base),n<=0&&(n=30),this._len=n)}return R(t,[{key:"toString",value:function(){return this.str}},{key:"getInputLength",value:function(){return this.tracker.length}},{key:"isDone",value:function(t){return(t>=this.tracker.length||void 0===t)&&this.state()===g.DONE}},{key:"getTree",value:function(){return this.base}},{key:"minChars",value:function(){return this._mask=M(this.current),this._mask}},{key:"minCharsList",value:function(t){var e=t?N:b;return(0,m.arr_uniq)(e(this.current,this.inputStr()))}},{key:"match",value:function(t){var e=(0,g.getArrayFixedAt)(this.current),r=this.test(t===g.HOLDER_ANY?void 0:t);return void 0===r&&t&&p(t)&&(r=this.test(t.toUpperCase()),t=t.toUpperCase()),this._update(r,t,e)}},{key:"matchStr",value:function(t){var e=t.length,r=!0,n=0,i=0;for(i=0;i<e;i++){var a=t[i];if(!this.match(a)){r=!1;break}this.lastCh=a,n++}return[r,n,t.substring(0,i)]}},{key:"state",value:function(){return this._state=this._state||this._stateCompute(),this._state}},{key:"stateStr",value:function(){var t=this.state();return t===g.MORE?"MORE":t===g.MAYBE?"OK":"DONE"}},{key:"inputStr",value:function(){return this.tracker.map(function(t){return t[0]}).join("")}},{key:"fixed",value:function(){return(0,g.getArrayFixedAt)(this.current)}},{key:"getCurrentStates",value:function(){return this.current.map(m.ID)}},{key:"reset",value:function(){return this.tracker=[],this.current.reset(),this.current.push(this.base),this.lastCh=void 0,this._state=void 0,this._mask=void 0,this}},{key:"clone",value:function(){var t=a();return t.str=this.str,t.base=this.base,t.tracker=this.tracker.slice(0),t.one=this.one.map(m.ID),t.two=this.two.map(m.ID),t.current=this.current==this.one?t.one:t.two,t.lastCh=this.lastCh,t._state=this._state,t._mask=void 0,t._len=this.length,t}},{key:"getInputTracker",value:function(){return this.tracker.map(m.ID)}},{key:"_after",value:function(t,e){if(e){var r=this.tracker.filter(function(r,n){return n>=e&&(t||void 0===r[1])});return r.map(function(t){return t[0]}).join("")}var n=t?this.tracker:this.tracker.filter(function(t){return void 0===t[1]});return n.map(function(t){return t[0]}).join("")}},{key:"_getArr",value:function(){return this.current===this.one?this.two.reset():this.one.reset()}},{key:"action",value:function(t,e,r,n){if(t===g.DONE)return e===g.DONE?(r.push(g.DONE),g.DONE):g.FAILED;if((0,g.dot)(t))return this.action(t.left,e,r,n);if((0,g.or)(t)){var i=this.action(t.left,e,r,n),a=this.action(t.right,e,r,n);return this._result(i,a)}if((0,g.zero_or_one)(t)||(0,g.zero_or_more)(t)){var o=(0,g.boundary)(t.left)?g.DONE:this.action(t.left,e,r,!0),u=this.action(t.nextNode,e,r,n);
return this._result(o,u)}if((0,g.matchable)(t)){var s=t.match(e);return s[0]&&r.push(t.nextNode),s[0]?t.nextNode===g.DONE?g.DONE:g.MORE:g.FAILED}if((0,g.boundary)(t)){if(n)return g.FAILED;if(e===g.DONE)return this.action(t.nextNode,e,r);var h=t.match(this.lastCh,e);return h[0]||void 0===e?this.action(t.nextNode,e,r):g.FAILED}return g.FAILED}},{key:"_result",value:function(t,e){return t===e?t:t===g.MORE||e===g.MORE?g.MORE:void 0}},{key:"test",value:function(t,e){var r=this;e=e||this.current;var n=g.FAILED,i=this._getArr();if(e.forEach(function(e){n=r._result(r.action(e,t,i),n)}),n!==g.FAILED&&0!==i.length)return i}},{key:"_update",value:function(t,e,r){return void 0!==t&&(this.tracker.push([void 0===e?g.HOLDER_ANY:e,r]),t.maxLen>this.maxLen&&(this.maxLen=t.maxLen),this.current=t,this.lastCh=e,this._state=void 0,this._mask=void 0),void 0!==t}},{key:"_stateCompute",value:function(){var t=this.test(void 0);if(void 0===t)return g.DONE;var e=this.test(g.DONE);return v(e)?g.MAYBE:g.MORE}},{key:"length",get:function(){return this._len}}]),t}()},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return e=e||t,{start:Math.min(t,e),end:Math.max(t,e)}}function a(t,e,r){return o(i(t.start+e,t.end+(void 0===r?e:r)))}function o(t,e,r,n){r=r||function(t){return t},n=n||r;var i=function(t,e,r){return r(Math.max(Math.min(t,e.end),e.start))};return e?{start:i(t.start,e,n),end:i(t.end,e,r)}:t}function u(t){return!t}function s(t){return t?t.end-t.start:0}function h(t){return u(s(t))}function c(t,e){return t.start>e.start}function l(t,e){return t===e}function f(t){for(var e=t.minChars(),r=0;e.length>r&&!(0,R.isMeta)(e.charAt(0));r++){if(!t.match(e.charAt(0)))return r>0;e=t.minChars()}return r>0}function p(t,e){var r=t.minChars();if(e=!!e,e!==!0&&r.length>1&&(0,R.isOptional)(r.charAt(0))&&!(0,R.isMeta)(r.charAt(1))){if(t.match(r.charAt(1)))return!0}else if(r.length>0&&!(0,R.isMeta)(r.charAt(0)))return t.match(r.charAt(0));return!1}function v(t,e){if(t.match(e))return!0;for(var r=t.clone();p(t,!1);)if(t.match(e))return!0;return t.reset(),t.matchStr(_(r,!0,0)),!1}function d(t){for(var e=t.length-1;e>=0&&(0,R.isHolder)(t.charAt(e));e--);return t.substring(0,e+1)}function _(t,e,r){var n=t.getInputTracker();if(r){var i=n.filter(function(t,n){return n>=r&&(e||void 0===t[1])});return i.map(function(t){return t[0]}).join("")}var a=e?n:n.filter(function(t){return void 0===t[1]});return a.map(function(t){return t[0]}).join("")}Object.defineProperty(e,"__esModule",{value:!0}),e.RXInputMask=void 0;var O=function(){function t(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(s){i=!0,a=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(i)throw a}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();e.trimHolder=d,e._after=_;var E=r(1),R=r(5),m=r(7),g=(r(3),e.RXInputMask=function(){function t(e){if(n(this,t),e=(0,E.assign)({pattern:null,selection:{start:0,end:0},value:"",history:{data:[],index:null,lastOp:null}},e),null===e.pattern)throw new Error("RXInputMask: you must provide a pattern.");this.setPattern(e.pattern,{value:e.value,selection:e.selection,history:e.history})}return y(t,[{key:"getState",value:function(){({pattern:this.pattern.clone(),selection:a(this.selection,0),value:this._getValue(),history:{data:[],index:null,lastOp:null}})}},{key:"input",value:function(t){if(h(this.selection)&&this.pattern.isDone(this.selection.start))return!1;var e=this._input(t,this.selection,this.pattern),r=O(e,3),n=r[0],i=r[1],a=r[2];if(!n)return!1;var o=this._getValue(),u=this.selection,s=this.pattern;return this._lastOp="input",this.selection=i,this.pattern=a,this.value=this.getValue(),null!==this._historyIndex&&(this._history.splice(this._historyIndex,this._history.length-this._historyIndex),this._historyIndex=null),("input"!==this._lastOp||!h(u)||null!==this._lastSelection&&u.start!==this._lastSelection.start)&&this._history.push({value:o,selection:u,lastOp:this._lastOp,pattern:s}),this._lastSelection=u,!0}},{key:"_input",value:function(t,e,r){h(e)&&r.emptyAt(e.start)&&(e=a(e,0,1));var n=r.clone(),o=e,u=o.start,s=o.end;e=this._updateSelection(e,n.getFirstEditableAtOrAfter(e.start)),s=n.getFirstEditableAtOrAfter(e.end),n.updateFixed(u,s);var c=_(n,!1,s),l=e.start;if(n.setPos(l),n.fixTracker(),void 0!==t&&!v(n,t))return[!1,e,n];e=this._updateSelection(e,n.getInputLength()),s=Math.max(s,e.end);var p=n.getFirstEditableAtOrAfter(n.getInputLength()),d=this._insertRest(c,n,l,s+1);return f(d||n),d.fixTracker(),[!0,i(p,p),d||n]}},{key:"_insertRest",value:function(t,e,r,n){function i(t,e,r,n,a){if(t>=e.length)return r;if(n>a||r.isDone())return r;var o=r.clone();if(v(o,e.charAt(t))){var u=i(t+1,e,o,o.getInputLength()-1,a);if(void 0!==u)return u}for(;p(r,!1););return r.match(void 0),i(t,e,r,n+1,a)}var a=i(0,t,e,r,n+t.length);return a}},{key:"backspace",value:function(){var t=this.pattern.getFirstEditableAtOrAfter(0);if(this.selection.start<t||this.selection.end<t)return!1;var e=(0,E.copy)(this.selection),r=this._getValue(),n=this.selection,a=n.start,o=n.end;if(a===o){if(a=this.pattern.getFirstEditableAtOrBefore(a-1),o=a+1,a<t)return}else if(a=this.pattern.getFirstEditableAtOrBefore(o<a?o:a),o===a&&o++,o<=t)return;var u=this._input(void 0,i(a,o),this.pattern),s=this.pattern;return!!u[0]&&(this.pattern=u[2],this.selection.start=this.selection.end=a,this.pattern.fixTracker(),null!==this._historyIndex&&this._history.splice(this._historyIndex,this._history.length-this._historyIndex),("backspace"!==this._lastOp||e.start!==e.end||null!==this._lastSelection&&e.start!==this._lastSelection.start)&&this._history.push({value:r,selection:e,lastOp:this._lastOp,pattern:s}),this._lastOp="backspace",this._lastSelection=(0,E.copy)(e),!0)}},{key:"del",value:function(){return h(this.selection)?(this.right(this.selection),this.backspace()):this.backspace()}},{key:"paste",value:function(t){var e={value:this.value.slice(),selection:(0,E.copy)(this.selection),_lastOp:this._lastOp,_history:this._history.slice(),_historyIndex:this._historyIndex,_lastSelection:(0,E.copy)(this._lastSelection),pattern:this.pattern.clone()},r=this.getRawValueAt(this.selection.end);this.pattern.setPos(this.selection.start);var n=this._setValueFrom(this.selection.start,t);return this.selection.end=this.pattern.getInputLength(),!(!n||!this._setValueFrom(this.selection.end,r))||((0,E.assign)(this,e),!1)}},{key:"undo",value:function(){if(0===this._history.length||0===this._historyIndex)return!1;var t;if(null===this._historyIndex){this._historyIndex=this._history.length-1,t=this._history[this._historyIndex];var e=this._getValue();t.value===e&&t.selection.start===this.selection.start&&t.selection.end===this.selection.end||this._history.push({value:e,selection:(0,E.copy)(this.selection),lastOp:this._lastOp,startUndo:!0,pattern:this.pattern.clone()})}else t=this._history[--this._historyIndex];return this.pattern=t.pattern,this.setValue(t.value),this.selection=t.selection,this._lastOp=t.lastOp,!0}},{key:"redo",value:function(){if(0===this._history.length||null===this._historyIndex)return!1;var t=this._history[++this._historyIndex];return this._historyIndex===this._history.length-1&&(this._historyIndex=null,t.startUndo&&this._history.pop()),this.pattern=t.pattern.clone(),this.setValue(t.value),this.selection=t.selection,this._lastOp=t.lastOp,!0}},{key:"left",value:function(t){var e=(0,E.copy)(t);return e&&h(e)&&(e.start=e.end=t.start-1,this.setSelection(e)),this}},{key:"right",value:function(t){var e=(0,E.copy)(t);return e&&e.start===e.end&&(e.start=e.end=t.start+1,this.setSelection(e)),this}},{key:"setPattern",value:function(t,e){for(e=(0,E.assign)({value:""},e),this.pattern=new m.RxMatcher((0,R.incrRegEx)(t)),this.setValue(e.value),this.emptyValue=this.pattern.minChars(),this.setSelection(e.selection);this.skipFixed(!0););if(h(this.selection)&&0!==this.pattern.getInputTracker().length){var r=this._getValue();this.setValue(r),this.selection.start=this.selection.end=r.length}return this._resetHistory(),this}},{key:"select",value:function(t,e){return this.selection=e<t?i(e,t):i(t,e),this}},{key:"setSelection",value:function(t){var e=this,r=t===this.selection?this.selection:(0,E.copy)(t),n=this.selection||r,a=function(t){return e.pattern.getFirstEditableAtOrAfter(t)},u=function(t){return e.pattern.getFirstEditableAtOrBefore(t)};this.selection=n;var s=a(0),l=this.pattern.lastEditableIndex(),f=i(s,l);return h(r)?this.selection=o(r,f,c(this.selection,r)?u:a):this.selection=o(r,f,a,u),this}},{key:"_adjustSelection",value:function(t,e){return h(t)?i(e?this.pattern.getFirstEditableAtOrAfter(t.start):this.pattern.getFirstEditableAtOrBefore(t.start)):i(this.pattern.getFirstEditableAtOrBefore(t.start),this.pattern.getFirstEditableAtOrAfter(t.end))}},{key:"_setValueFrom",value:function(t,e){var r=this.pattern.clone(),n=!0;void 0!==t&&r.setPos(t);for(var i=t,a=0;a<e.length&&n;i++,a++){var o=e.charAt(a);n&=v(r,o)}return n&&(f(r),this.pattern=r),n}},{key:"setValue",value:function(t){var e=new g("RXInputMask:");if(this.getValue()===t)return!0;var r=this.pattern.clone();null===t&&(t=""),r.reset(),e.println("iterate over",t,"length:",t.length);for(var n=0;n<t.length;n++){var i=t.charAt(n);if(e.print("index: ",n,"char:",i,"minChars:",r.minChars(),"sameAsRest",l(t.substring(n),r.minChars()),"---"),l(t.substring(n),r.minChars()))break;if((0,R.isHolder)(i)&&(i=void 0),!v(r,i))return!1}return this.pattern=r,this.value=this.getValue(),!0}},{key:"minCharsList",value:function(t){return this.pattern.minCharsList(t)}},{key:"getSelection",value:function(){return(0,E.copy)(this.selection)}},{key:"_getValue",value:function(){return _(this.pattern,!0,0)}},{key:"getValue",value:function(){return _(this.pattern,!0,0)+this.pattern.minChars()}},{key:"getRawValue",value:function(){return _(this.pattern,!1,0)}},{key:"getRawValueAt",value:function(t){return _(this.pattern,!1,t)}},{key:"reset",value:function(){return this.pattern.reset(),this._resetHistory(),this.value=this.getValue(),this.selection.start=this.selection.end=0,this.setSelection(this.selection),this}},{key:"_resetHistory",value:function(){return this._history=[],this._historyIndex=null,this._lastOp=null,this._lastSelection=(0,E.copy)(this.selection),this}},{key:"_updateSelection",value:function(t,e){var r=(0,E.copy)(t);return r.start=e,e>r.end&&(r.end=e),r}},{key:"skipFixed",value:function(t){return p(this.pattern,t)}},{key:"isDone",value:function(){var t=this.pattern.clone(),e=this.getValue(),r=e.split("");if((0,E.arr_find)(function(t){return(0,R.isHolder)(t)},r))return"MORE";t.reset();for(var n=0;n<r.length;n++)if(!(0,R.isMeta)(r[n])&&!t.match(r[n]))return"MORE";return t.stateStr()}}]),t}(),function(){function t(e){n(this,t),this.content=e||""}return y(t,[{key:"print",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.content+=","+(e||[]).map(function(t){return JSON.stringify(t)}).join(" "),this}},{key:"println",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.print.apply(this,e),this.content+="\n",this}},{key:"flush",value:function(){console.log(this.content),this.content=""}}]),t}())},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){var r=t[e];void 0!==r[1]&&r[0]!==r[1]&&(r[0]=r[1])}Object.defineProperty(e,"__esModule",{value:!0}),e.RxMatcher=void 0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=(function(){function t(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(s){i=!0,a=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(i)throw a}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r(1),r(5)),u=r(4);e.RxMatcher=function(){function t(e){n(this,t),this.matcher=e,this._lastEditableIndex=void 0}return a(t,[{key:"getFirstEditableAtOrAfter",value:function(t){for(var e=t,r=this.getInputTracker();e<r.length;e++){if(void 0===r[e][1])return e;i(r,e)}var n=this.minChars();e=r.length;for(var a=0;a<n.length&&!(0,o.isMeta)(n.charAt(a));a++,e++);return e}},{key:"fixTracker",value:function(){for(var t=this.getInputTracker(),e=0;e<t.length;e++)i(t,e)}},{key:"getFirstEditableAtOrBefore",value:function(t){var e=this.getInputTracker();for(t>=e.length&&(t=e.length-1);t>0;t--){if(void 0===e[t][1])return t;i(e,t)}return 0}},{key:"getInputLength",value:function(){return this.matcher.getInputLength()}},{key:"updateFixed",value:function(){var t=this.matcher.inputStr();return t=(0,u.rxContentsToMask)(this.matcher.base,t),void 0!=t&&(this.matcher.reset(),this.matcher.matchStr(t),!0)}},{key:"setPos",value:function(t){if(void 0!==t){var e=this.getInputTracker(),r=e.map(function(t){return t[0]}).join("").substr(0,t);for(this.reset(),this.matchStr(r),e=this.getInputTracker();e.length<t&&void 0!==this.fixed();)if(!this.match(this.fixed())){t=this.getInputLength();break}this._resetCache()}return t}},{key:"toString",value:function(){return this.matcher.toString()}},{key:"after",value:function(t){return this.matcher._after(!0,t)}},{key:"valueWithMask",value:function(){return this.matcher.valueWithMask()}},{key:"rawValue",value:function(t){return this.matcher.rawValue(t)}},{key:"_after",value:function(t,e){return this.matcher._after(t,e)}},{key:"isDone",value:function(t){return this.matcher.isDone(t)}},{key:"setToFirstEditableAfter",value:function(t){return void 0===t&&(t=this.getInputLength()),this.setPos(this.getFirstEditableAtOrAfter(t))}},{key:"lastEditableIndex",value:function(){if(void 0===this._lastEditableIndex){var t=this.getInputTracker(),e=this.clone(),r=this.getFirstEditableAtOrAfter(t.length);e.setPos(r),e.state()===u.DONE&&(r=t.length),this._lastEditableIndex=r}return this._lastEditableIndex}},{key:"getTree",value:function(){return this.matcher.getTree()}},{key:"minChars",value:function(t){if(void 0===t)return this.matcher.minChars();var e=this.matcher.clone(),r=this.matcher._after(!0,0).substring(0,t);e.reset();var n=e.matchStr(r);if(!n[0])throw new Error("Unexpected error (matchStr failed) from "+e.constructor.name||"IREGEX");return e.minChars()}},{key:"minCharsList",value:function(t){return this.matcher.minCharsList(t)}},{key:"emptyAt",value:function(t){var e=this.getInputTracker();return t<e.length&&(0,o.isHolder)(e[t][0])}},{key:"match",value:function(t){this._resetCache();var e=this.matcher.match(t);return this.fixTracker(),e}},{key:"matchStr",value:function(t){this._resetCache();var e=this.matcher.matchStr(t);return this.fixTracker(),e}},{key:"state",value:function(){return this.matcher.state()}},{key:"fixed",value:function(){return this.matcher.fixed()}},{key:"reset",value:function(){return this.matcher.reset(),this._resetCache(),this}},{key:"clone",value:function(){return new t(this.matcher.clone())}},{key:"getInputTracker",value:function(){return this.matcher.tracker}},{key:"getFullTracker",value:function(){var t=this.getInputTracker(),e=this.matcher.minChars().map(function(t){return(0,o.isMeta)(t)?[t,void 0]:[t,t]});return[].concat(t,e)}},{key:"_resetCache",value:function(){this._lastEditableIndex=void 0}},{key:"stateStr",value:function(){return this.matcher.stateStr()}},{key:"length",get:function(){return this.matcher.length}}]),t}()}]);